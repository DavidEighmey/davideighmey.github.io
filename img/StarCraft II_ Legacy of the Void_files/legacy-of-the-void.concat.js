Object.keys||(Object.keys=function(r){var e=[];for(var n in r)r.hasOwnProperty(n)&&e.push(n);return e});
!function(t,e,i,n){"use strict";function r(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return Array.isArray(t)?(o(t,i[e],i),!0):!1}function o(t,e,i){var r;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(r=0;r<t.length;)e.call(i,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function a(t,e,i){for(var r=Object.keys(e),s=0;s<r.length;)(!i||i&&t[r[s]]===n)&&(t[r[s]]=e[r[s]]),s++;return t}function h(t,e){return a(t,e,!0)}function u(t,e,i){var n,r=e.prototype;n=t.prototype=Object.create(r),n.constructor=t,n._super=r,i&&a(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==ct?t.apply(e?e[0]||n:n,e):t}function p(t,e){return t===n?e:t}function f(t,e,i){o(g(e),function(e){t.addEventListener(e,i,!1)})}function d(t,e,i){o(g(e),function(e){t.removeEventListener(e,i,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function T(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function E(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];T(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function I(t,e){for(var i,r,s=e[0].toUpperCase()+e.slice(1),o=0;o<ht.length;){if(i=ht[o],r=i?i+s:e,r in t)return r;o++}return n}function A(){return dt++}function _(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function D(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i?i:gt?W:Tt?H:mt?U:F)(t,w)}function w(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=e&Dt&&n-r===0,o=e&(wt|bt)&&n-r===0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,b(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function b(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=z(e)),r>1&&!i.firstMultiple?i.firstMultiple=z(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,h=e.center=N(n);e.timeStamp=ft(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=x(a,h),e.distance=O(a,h),C(i,e),e.offsetDirection=M(e.deltaX,e.deltaY),e.scale=o?Y(o.pointers,n):1,e.rotation=o?X(o.pointers,n):0,R(i,e);var u=t.element;v(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function C(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Dt||s.eventType===wt)&&(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function R(t,e){var i,r,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=bt&&(h>_t||a.velocity===n)){var u=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,l=P(h,u,c);r=l.x,s=l.y,i=pt(l.x)>pt(l.y)?l.x:l.y,o=M(u,c),t.lastInterval=e}else i=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=r,e.velocityY=s,e.direction=o}function z(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:lt(t.pointers[i].clientX),clientY:lt(t.pointers[i].clientY)},i++;return{timeStamp:ft(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:lt(t[0].clientX),y:lt(t[0].clientY)};for(var i=0,n=0,r=0;e>r;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:lt(i/e),y:lt(n/e)}}function P(t,e,i){return{x:e/t||0,y:i/t||0}}function M(t,e){return t===e?Ct:pt(t)>=pt(e)?t>0?Rt:zt:e>0?Nt:Pt}function O(t,e,i){i||(i=Xt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function x(t,e,i){i||(i=Xt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function X(t,e){return x(e[1],e[0],Yt)-x(t[1],t[0],Yt)}function Y(t,e){return O(e[0],e[1],Yt)/O(t[0],t[1],Yt)}function F(){this.evEl=Wt,this.evWin=qt,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function W(){this.evEl=kt,this.evWin=Ut,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Vt,this.evWin=jt,this.started=!1,D.apply(this,arguments)}function L(t,e){var i=y(t.touches),n=y(t.changedTouches);return e&(wt|bt)&&(i=E(i.concat(n),"identifier",!0)),[i,n]}function H(){this.evTarget=Bt,this.targetIds={},D.apply(this,arguments)}function k(t,e){var i=y(t.touches),n=this.targetIds;if(e&(Dt|St)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=y(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return v(t.target,h)}),e===Dt)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(wt|bt)&&delete n[o[r].identifier],r++;return a.length?[E(s.concat(a),"identifier",!0),a]:void 0}function U(){D.apply(this,arguments);var t=c(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new F(this.manager,t)}function G(t,e){this.manager=t,this.set(e)}function V(t){if(m(t,ee))return ee;var e=m(t,ie),i=m(t,ne);return e&&i?ie+" "+ne:e||i?e?ie:ne:m(t,te)?te:$t}function j(t){this.id=A(),this.manager=null,this.options=h(t||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=re,this.simultaneous={},this.requireFail=[]}function Z(t){return t&ue?"cancel":t&ae?"end":t&oe?"move":t&se?"start":""}function B(t){return t==Pt?"down":t==Nt?"up":t==Rt?"left":t==zt?"right":""}function J(t,e){var i=e.manager;return i?i.get(t):t}function K(){j.apply(this,arguments)}function Q(){K.apply(this,arguments),this.pX=null,this.pY=null}function $(){K.apply(this,arguments)}function tt(){j.apply(this,arguments),this._timer=null,this._input=null}function et(){K.apply(this,arguments)}function it(){K.apply(this,arguments)}function nt(){j.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return e=e||{},e.recognizers=p(e.recognizers,rt.defaults.preset),new st(t,e)}function st(t,e){e=e||{},this.options=h(e,rt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new G(this,this.options.touchAction),ot(this,!0),o(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ot(t,e){var i=t.element;o(t.options.cssProps,function(t,n){i.style[I(i.style,n)]=e?t:""})}function at(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var ht=["","webkit","moz","MS","ms","o"],ut=e.createElement("div"),ct="function",lt=Math.round,pt=Math.abs,ft=Date.now,dt=1,vt=/mobile|tablet|ip(ad|hone|od)|android/i,mt="ontouchstart"in t,gt=I(t,"PointerEvent")!==n,Tt=mt&&vt.test(navigator.userAgent),yt="touch",Et="pen",It="mouse",At="kinect",_t=25,Dt=1,St=2,wt=4,bt=8,Ct=1,Rt=2,zt=4,Nt=8,Pt=16,Mt=Rt|zt,Ot=Nt|Pt,xt=Mt|Ot,Xt=["x","y"],Yt=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(_(this.element),this.evWin,this.domHandler)}};var Ft={mousedown:Dt,mousemove:St,mouseup:wt},Wt="mousedown",qt="mousemove mouseup";u(F,D,{handler:function(t){var e=Ft[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=wt),this.pressed&&this.allow&&(e&wt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:It,srcEvent:t}))}});var Lt={pointerdown:Dt,pointermove:St,pointerup:wt,pointercancel:bt,pointerout:bt},Ht={2:yt,3:Et,4:It,5:At},kt="pointerdown",Ut="pointermove pointerup pointercancel";t.MSPointerEvent&&(kt="MSPointerDown",Ut="MSPointerMove MSPointerUp MSPointerCancel"),u(W,D,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Lt[n],s=Ht[t.pointerType]||t.pointerType,o=s==yt,a=T(e,t.pointerId,"pointerId");r&Dt&&(0===t.button||o)?0>a&&(e.push(t),a=e.length-1):r&(wt|bt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Gt={touchstart:Dt,touchmove:St,touchend:wt,touchcancel:bt},Vt="touchstart",jt="touchstart touchmove touchend touchcancel";u(q,D,{handler:function(t){var e=Gt[t.type];if(e===Dt&&(this.started=!0),this.started){var i=L.call(this,t,e);e&(wt|bt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:yt,srcEvent:t})}}});var Zt={touchstart:Dt,touchmove:St,touchend:wt,touchcancel:bt},Bt="touchstart touchmove touchend touchcancel";u(H,D,{handler:function(t){var e=Zt[t.type],i=k.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:yt,srcEvent:t})}}),u(U,D,{handler:function(t,e,i){var n=i.pointerType==yt,r=i.pointerType==It;if(n)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(wt|bt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Jt=I(ut.style,"touchAction"),Kt=Jt!==n,Qt="compute",$t="auto",te="manipulation",ee="none",ie="pan-x",ne="pan-y";G.prototype={set:function(t){t==Qt&&(t=this.compute()),Kt&&(this.manager.element.style[Jt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(t){if(!Kt){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,r=m(n,ee),s=m(n,ne),o=m(n,ie);return r||s&&i&Mt||o&&i&Ot?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var re=1,se=2,oe=4,ae=8,he=ae,ue=16,ce=32;j.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=J(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=J(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=J(t,this),-1===T(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=J(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?Z(n):""),t)}var i=this,n=this.state;ae>n&&e(!0),e(),n>=ae&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ce)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ce|re)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return l(this.options.enable,[this,e])?(this.state&(he|ue|ce)&&(this.state=re),this.state=this.process(e),void(this.state&(se|oe|ae|ue)&&this.tryEmit(e))):(this.reset(),void(this.state=ce))},process:function(){},getTouchAction:function(){},reset:function(){}},u(K,j,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(se|oe),r=this.attrTest(t);return n&&(i&bt||!r)?e|ue:n||r?i&wt?e|ae:e&se?e|oe:se:ce}}),u(Q,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:xt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Mt&&e.push(ne),t&Ot&&e.push(ie),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Mt?(r=0===s?Ct:0>s?Rt:zt,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?Ct:0>o?Nt:Pt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return K.prototype.attrTest.call(this,t)&&(this.state&se||!(this.state&se)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=B(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),u($,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&se)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),u(tt,j,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[$t]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(wt|bt)&&!s)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=r(function(){this.state=he,this.tryEmit()},e.time,this);else if(t.eventType&wt)return he;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===he&&(t&&t.eventType&wt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ft(),this.manager.emit(this.options.event,this._input)))}}),u(et,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&se)}}),u(it,K,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Mt|Ot,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Mt|Ot)?e=t.velocity:i&Mt?e=t.velocityX:i&Ot&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&pt(e)>this.options.velocity&&t.eventType&wt},emit:function(t){var e=B(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(nt,j,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=wt)return this.failTimeout();var o=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||O(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var h=this.count%e.taps;if(0===h)return this.hasRequireFailures()?(this._timer=r(function(){this.state=he,this.tryEmit()},e.interval,this),se):he}return ce},failTimeout:function(){return this._timer=r(function(){this.state=ce},this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==he&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.4",rt.defaults={domEvents:!1,touchAction:Qt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[$,{enable:!1},["rotate"]],[it,{direction:Mt}],[Q,{direction:Mt},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var le=1,pe=2;st.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?pe:le},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&he)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],e.stopped===pe||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(se|oe|ae)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof j)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(T(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return o(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return o(g(t),function(t){e?i[t].splice(T(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&at(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(rt,{INPUT_START:Dt,INPUT_MOVE:St,INPUT_END:wt,INPUT_CANCEL:bt,STATE_POSSIBLE:re,STATE_BEGAN:se,STATE_CHANGED:oe,STATE_ENDED:ae,STATE_RECOGNIZED:he,STATE_CANCELLED:ue,STATE_FAILED:ce,DIRECTION_NONE:Ct,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:zt,DIRECTION_UP:Nt,DIRECTION_DOWN:Pt,DIRECTION_HORIZONTAL:Mt,DIRECTION_VERTICAL:Ot,DIRECTION_ALL:xt,Manager:st,Input:D,TouchAction:G,TouchInput:H,MouseInput:F,PointerEventInput:W,TouchMouseInput:U,SingleTouchInput:q,Recognizer:j,AttrRecognizer:K,Tap:nt,Pan:Q,Swipe:it,Pinch:$,Rotate:et,Press:tt,on:f,off:d,each:o,merge:h,extend:a,inherit:u,bindFn:c,prefixed:I}),typeof define==ct&&define.amd?define(function(){return rt}):"undefined"!=typeof module&&module.exports?module.exports=rt:t[i]=rt}(window,document,"Hammer");
!function(){window.bnet=window.bnet||{};var t=function(t){return t.match(/[#\.]/)?document.querySelector(t):document.getElementById(t)},e=function(t,e,a,r,n){return e=e?e:"",a=a?a:"",r=r?r:"",n=n?n:"",r+t.replace(e,a)+n},a=function(t,e){var a=$(t);"undefined"!=typeof e.name&&a.attr("data-element",e.name),"undefined"!=typeof e.attrId&&a.attr("id",e.attrId),"undefined"!=typeof e.attrClass&&a.attr("class",e.attrClass)},r={VERSION:"0.1.0",DESCRIPTION:"Component library for creating svg image maps",isDrawn:{paper:!1},draw:function(){var t=Array.prototype.slice.call(arguments,0)||!1,e=null,a={basic:!0,advanced:!1};if(t&&"object"==typeof t[0]&&(t=t[0],e=t.type,a.basic=!1,a.advanced=!0),t&&"object"==typeof t[1]&&(e=t[0],t=t[1],a.basic=!1,a.advanced=!0),a.basic&&(e=t[0]),"paper"===e){if(a.basic)return r.drawPaper.apply(r,t);if(a.advanced)return r.drawPaper(t)}if("path"===e){if(a.basic)return t=Array.prototype.slice.call(t,1),this.drawPath.apply(this,t);if(a.advanced)return this.drawPath(t)}if("image"===e){if(a.basic)return t=Array.prototype.slice.call(t,1),this.drawImage.apply(this,t);if(a.advanced)return this.drawImage(t)}},drawPaper:function(){var e,n=Array.prototype.slice.call(arguments,0)||!1,i={container:null,attrId:null,attrClass:null,x:0,y:0,width:100,height:100},l=$.extend({is:"basic"},i),d=[];if(n&&"object"==typeof n[0]&&(l.is="advanced"),"basic"===l.is&&n.length&&d.push(t(n[0])),"basic"===l.is&&n[1]){var c=i.width,s=i.height;n[1].length?(c=n[1][0]||i.width,s=n[1][1]||i.height):"object"==typeof n[1]&&(c=n[1].width||i.width,s=n[1].height||i.height),d.push(c,s)}return"advanced"===l.is&&(l=$.extend(!0,l,n[0]),l.container?d.push(t(l.container),l.width,l.height):d.push(l.x,l.y,l.width,l.height)),e=new Raphael(d,this.isDrawn.paper=!0),e=e.paper,"advanced"===l.is&&(l.$paper=$("svg",l.container),a(l.$paper,l)),e.draw=function(t,a){$.extend(!0,a,{paper:e});return r.draw.call(r,t,a)},e.group=function(t){return r.groupElements.call(this,e,t)},e.on=function(t,e){return Raphael.eve.on(t,e)},e.trigger=function(t,e,a){return Raphael.eve(t,e,a)},e},drawImage:function(){var t,e=Array.prototype.slice.call(arguments,0)||!1,r={type:"image",paper:null,attrId:null,attrClass:null,x:null,y:null,width:100,height:100},n=$.extend({is:"basic"},r);return e&&"object"==typeof e[0]&&(n.is="advanced"),"advanced"===n.is?(n=$.extend(!0,n,e[0]),t=n.paper.image(n.src,n.x,n.y,n.width,n.height),(n.attrId||n.attrClass)&&(n.$image=$(t.node),a(n.$image,n)),t):void 0},drawPath:function(){var t,r=Array.prototype.slice.call(arguments,0)||!1,n={type:"path",paper:null,name:null,fill:null,attrId:null,attrClass:null,coords:null},i=$.extend({is:"basic"},n);return r&&"object"==typeof r[0]&&(i.is="advanced"),"advanced"===i.is&&(i=$.extend(!0,i,r[0]),i.coords=e(i.coords,/(,[^,]*),/g,"$1 L","M0,0 M"," Z"),t=i.paper.path(i.coords),(i.attrId||i.attrClass||i.name)&&a($(t.node),i),i.fill&&t.attr({fill:i.fill})),t},groupElements:function(t,e){var a=t.set.apply(this,e);return a},addEvent:function(){},triggerEvent:function(t,e,a){}};return bnet.svgImageMapper=Object.create(r)}();
var bnet=bnet||{};bnet.utility=function(e,n,t,i,r){"use strict";e.isNumeric=function(e){var n=parseFloat(e);return!isNaN(n)&&isFinite(n)},e.objectContainsValue=function(e,n){if("object"==typeof e)for(var t in e)if(e[t]===n)return!0;return!1};var o=t.createElement("video"),u={};return u="canPlayType"in o?{webm:o.canPlayType("video/webm"),mp4:o.canPlayType("video/mp4")}:{webm:!1,mp4:!1},o=null,e.canPlayVideo=function(){return(u.webm||u.mp4)&&!n.navigator.userAgent.match(/iPhone|iPad|iPod/i)},e.debounce=function(e,n){var t=null;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){e.apply(i,r)},n)}},e.isIE8=function(){return Core.isIE()&&8===Core.getBrowser().version},e.isIE9=function(){return Core.isIE()&&9===Core.getBrowser().version},e}(bnet.utility||{},window,document,jQuery);
var bnet=bnet||{};bnet.ScrollManager=function(t,e,n,i,o){var c={},r={},a=20,u=0,d=[];return bindEvents=function(){n(window).on("scroll",i.debounce(function(t){update()},100)),n(window).on("resize",i.debounce(function(t){update()},100))},update=function(t){mapSections(),updateActiveSection()},mapSections=function(){d=[],n(".scroll-section").each(function(t){var e=n(this),i=e.offset(),o={id:e.attr("id"),offset:i.top};o.offset>=0?d.push(o):n(".header-bg").on("load",update)})},t.getActiveSection=function(){var t={},i=0,o={},c={},r=e.documentElement.scrollTop||e.body.scrollTop;if(0>r)return!1;u=r,n.each(d,function(e,n){r>n.offset-a?(o=t,t=n,i=e):i+1===e&&(c=n)});var l={activeSection:t,previousSection:o,nextSection:c,scrollPosition:r};return l},updateActiveSection=function(){var e=t.getActiveSection();c.id!==e.activeSection.id&&(r=c,c=e.activeSection,n(window).trigger("ScrollManagerEnterSectionEvent",e),history&&history.replaceState&&r.id&&history.replaceState(null,null,"#"+c.id))},t.init=function(){n(window).trigger("ScrollManagerReadyEvent",{}),update(),bindEvents(),a=.5*n(window).height()},t}(bnet.ScrollManager||{},document,jQuery,bnet.utility),$(document).ready(function(){bnet.ScrollManager.init()});
var bnet=bnet||{};bnet.mediaQueryManager=function(e,t,n,a,i,r){"use strict";return t.addListener=function(e,t){n.matchMedia&&"string"==typeof e&&"function"==typeof t&&n.matchMedia(e).addListener(t)},t.isQueryActive=function(e){return"string"==typeof e&&n.matchMedia&&n.matchMedia(e).matches},t}(bnet,bnet.mediaQueryManager||{},window,document,jQuery);
var bnet=bnet||{};bnet.sc2=bnet.sc2||{},bnet.sc2.lotv=function(e,t,n,r,i,a,o){"use strict";function s(){var e=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");return null!=e.exec(navigator.userAgent)?parseFloat(RegExp.$1)>=11:0}function d(e){return c.test(navigator.userAgent)||r.innerWidth<981&&!e}function l(e,t){function n(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e.charAt(Math.floor(Math.random()*e.length))}function i(){return Math.floor(10*Math.random())<=5}function o(e,t){var n=t.data("decrypt");a.each(n,function(e,t){/change/.test(e)?n[e]=r.clearInterval(t):n[e]=r.clearTimeout(t)}),t.toggleClass("animating protoss",!1).replaceWith(d.text.charAt(e)).data({released:1})}function s(e,t){function a(){return r.setTimeout(function(){o(e,t)},e*d.options.staggerTime+d.options.decryptTime)}function s(){return r.setInterval(function(){t.text(n()).toggleClass("protoss",i())},d.options.letterChangeInterval)}function l(){return r.setTimeout(function(){t.toggleClass("animating",!0),c.change=s()},e*d.options.staggerTime)}var c={};c.begin=l(),c.complete=a(),t.data({decrypt:c,released:0}).toggleClass("protoss",!0)}var d=this;this.animating=0,this.characters=[],this.options={staggerTime:250,decryptTime:1500,letterChangeInterval:100},this.templates={character:function(e){return a("<span/>",{addClass:"protoss",html:e})}},this.addTemplates=function(e){a.extend(d.templates,e)},this.addOptions=function(e){a.extend(d.options,e)},this.start=function(){d.animating||(d.animating=1,e.toggleClass("decrypting",!0).trigger("decrypt.begin"),d.animateStopTimeout=r.setTimeout(function(){d.stop()},d.text.length*d.options.staggerTime+d.options.decryptTime),a.each(d.characters,function(e,t){s(e,t)}),e.html(d.characters))},this.stop=function(){a.each(d.characters,function(e,t){t.data("released")||o(e,t)}),d.animateStopTimeout&&(d.animateStopTimeout=r.clearTimeout(d.animateStopTimeout)),d.animating&&(e.toggleClass("decrypting",!1).trigger("decrypt.complete"),e.html(d.text)),d.animating=0}}n.mediaQueries={"MQ-lt-640":"(max-width: 640px)","MQ-gt-320":"(min-width: 321px)","MQ-gt-480":"(min-width: 481px)","MQ-gt-640":"(min-width: 641px)","MQ-gt-980":"(min-width: 981px)","MQ-gt-1024":"(min-width: 1025px)","MQ-gt-1200":"(min-width: 1201px)","MQ-gt-1280":"(min-width: 1281px)","MQ-gt-1440":"(min-width: 1441px)","MQ-gt-1680":"(min-width: 1681px)","MQ-gt-1920":"(min-width: 1921px)","MQ-981-1680":"(min-width: 981px) and (max-width: 1680px)"},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),s()&&a("html").addClass("ie ie11");var c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|PlayBook|IEMobile|Opera Mini|Mobi/i;if(d(!0)){var u=navigator.userAgent.match(c)[0].toLowerCase();a("html").addClass("mobile "+u)}return function(e,t,n){function r(){var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|PlayBook|IEMobile|Opera Mini|Mobi/i;return t.test(e.navigator.userAgent)||e.innerWidth<981}function i(){function r(){l=1,d=0,i.reject(),n.event.trigger("iFrameAPIError")}var i=n.Deferred(),a=t.createElement("script");return n(t).on("iFrameAPIReady",function(){i.resolve()}),d=1,e.onYouTubeIframeAPIReady=function(){n.event.trigger("iFrameAPIReady"),s=1,d=0},a.onerror=function(){r()},a.onload=function(){setTimeout(function(){s||YT&&YT.Player||r()},500)},a.async=!0,a.src="http://www.youtube.com/iframe_api",t.body.appendChild(a),i.promise()}function a(){var e=n.Deferred();return s?e.resolve():l?e.reject():!s&&d?(n(t).one("iFrameAPIReady",function(){e.resolve()}),n(t).one("iFrameAPIError",function(){e.reject()})):i().done(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()}function o(t,i,o,s){function d(e,t){return["http://www.youtube.com/embed/",e,"?",n.param(t)].join("")}function l(e){p.loading=1,a().done(function(n){p.player=new YT.Player(p.$video[0],{events:{onReady:function(n){p.loaded=1,p.loading=0,t.trigger("player.ready",n),e&&e.resolve(p)},onError:function(e){p.loading=0,p.error=1,t.trigger("player.error"),t.toggleClass("error",!0)},onStateChange:function(e){p.state&&t.toggleClass(p.states[p.state],!1),t.toggleClass(p.states[e.data],!0),p.state=e.data}}})}).fail(function(n){p.loading=0,p.error=1,t.toggleClass("error",!0),t.trigger("player.error"),e&&e.reject("Youtube iframe api failed to load",n)})}function c(e){t.toggleClass(p.states[p.state],!1),p.player.stopVideo(),p.player.clearVideo(),p.player.destroy(),p.$video=null,p.player=null,p.state=null,e&&e.resolve(),t.trigger("player.destroyed")}function u(){p.loading=1;var e={id:i},a={$play:p.templates.play,$poster:p.templates.poster,$video:p.templates.video};o&&o.templates&&p.addTemplates(o.templates),o&&o.params&&n.extend(p.params,o.params),o&&o.init&&n.extend(e,o.init),n.each(e,function(e,t){p[e]="function"==typeof t?t.apply(p):t}),o&&o.build&&n.extend(a,o.build);var d=[];n.each(a,function(e,t){t&&d.push(p[e]="function"==typeof t?t.apply(p):t)}),t.append(d).toggleClass("mobile",r()),l(s)}var p=this;this.loaded=0,this.loading=0,this.error=0,this.states={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video-cued"},this.params={autoplay:0,autohide:1,controls:1,modestbranding:1,showinfo:0,version:3,enablejsapi:1,wmode:"transparent",origin:e.location.origin,rel:0},this.templates={play:function(){return n("<div/>",{addClass:"play",on:{click:function(){p.player.playVideo()}}})},poster:function(){return n("<div/>",{addClass:"poster"})},video:function(){return n("<iframe/>",{addClass:"video",attr:{width:"100%",height:"100%",allowfullscreen:"true",frameBorder:0,src:d(i,p.params)}})}};var f=null,g=null;this.createPlayer=function(){var e=n.Deferred();return g?g.done(function(){p.createPlayer().done(function(){e.resolve()})}):p.$video||p.player?e.resolve():f?f.done(function(){e.resolve()}):(f=e,p.$video=p.templates.video(),p.$video.appendTo(t),l(e)),e.done(function(){f=null}),e.promise()},this.destroyPlayer=function(){var e=n.Deferred();return f?f.done(function(){p.destroyPlayer().done(function(){e.resolve()})}):p.$video&&p.player?g?g.done(function(){e.resolve()}):(g=e,c(e)):e.resolve(),e.done(function(){g=null}),e.promise()},this.addTemplates=function(e){n.extend(p.templates,e)},u()}var s=0,d=0,l=0;n.fn.extend({video:function(e){var t=n.Deferred(),r=this.data("video");if(r&&"string"!==n.type(r))r&&r.loaded?t.resolve(r):r&&r.error?t.reject(r):r&&r.loading&&!r.loaded&&this.one("player.ready",function(){t.resolve(r)});else{var i=e&&e.id?e.id:r;this.data({video:r=new o(this,i,e,t)})}return t.promise()}})}(r,r.document,r.jQuery),a.fn.extend({decrypt:function(e){var t=this.data("decrypt");return t||this.data({decrypt:t=new l(this,e)}),t}}),a(".header [data-video]").video().done(function(e){a(".header [data-video] .watch-trailer").click(function(t){t.preventDefault(),e.player.playVideo()})}),n}(bnet||{},bnet.sc2||{},bnet.sc2.lotv||{},window,document,jQuery);
!function(e,o,n,t){"use strict";function i(){n("html, body").animate({scrollTop:n("#campaign").offset().top},200,function(){n(".header").find("[data-video]").video().done(function(e){e.player.playVideo()})})}n(".trailer-button").click(function(){return i(),!1}),n(".header").find("[data-video]").on({mouseenter:function(){n(this).toggleClass("hover",!0)},mouseleave:function(){n(this).toggleClass("hover",!1)}}),n(o).ready(function(){if(/playtrailer/.test(e.location.href)){var o=n(".header").find("[data-video]");o.on("player.ready",function(){i()})}})}(window,document,jQuery);
var bnet=bnet||{};!function(e,t,a,n,r,i,c,o,d,s){"use strict";function l(e){I.attr("data-character-name",e),Q.attr("data-character-name",e);for(var t in A.loopTimes)Q.removeClass(t);Q.addClass(e)}function u(e){I.attr("data-character-index",e),T.find(".character-info[data-character-index]").addClass("hidden"),T.find(".title-secondary[data-character-index]").addClass("hidden"),T.find(".character-info[data-character-index="+e+"]").removeClass("hidden"),T.find(".title-secondary[data-character-index="+e+"]").removeClass("hidden")}function h(e,a){var n=T.find("[data-character-index="+e+"]").data("character-name");if(l(n),u(e),k.isEnabled()){var r=k.$container.data("activeElement");t.isNumeric(r)&&k.paper.trigger("characterGrid.deactivate.element",a,r),k.paper.trigger("characterGrid.activate.element",a,e)}}function m(){a.isQueryActive(i.mediaQueries["MQ-lt-640"])?Q.height(Q.width()*(700/980)*1.53125):Q.height("")}function p(){a.isQueryActive(i.mediaQueries["MQ-981-1680"])||t.isIE9()&&d(o).width()>=981&&d(o).width()<1680?T.height(T.width()*(1e3/1920)*(1920/1680)):T.height("")}function f(){m(),p();var e=U;U=d(o).width(),t.isIE9()&&981>e&&U>=981?$():t.isIE9()&&e>=981&&981>U&&$()}function g(){return I.attr("data-character-name")}function v(){return parseInt(I.attr("data-character-index"),10)}function b(e,t){var a=/url\(#([\w+-]+)\)/,n=d("[data-element="+e+"]").attr("fill");if(n&&n.length){var r=a.exec(n)[1],i=/translate\((\d+(\.\d+)?),(\d+(\.\d+)?)\)/,c=d("#"+r).attr("patternTransform"),o=c.replace(i,t);d("#"+r).attr("patternTransform",o)}}function E(e,t){return A.isEnabled()?void(t&&t.activeSection&&"characters"===t.activeSection.id?A.$object&&0!==A.$object.children().length?A.play():A.load():A.$object&&0!==A.$object.children().length&&A.pause()):!1}function $(){A.init(),E(null,n.getActiveSection()),k.init(),f()}function y(){h(v()<=0?x-1:v()-1)}function w(){h(v()>=x-1?0:v()+1)}function C(){d(c).on("ScrollManagerEnterSectionEvent",E),d(c).resize(t.debounce(f,100)),a.addListener(i.mediaQueries["MQ-gt-980"],$),T.find(".arrow-left").on("click",y),T.find(".arrow-right").on("click",w)}function j(){C(),$()}var T=d(".legacy-of-the-void .characters"),Q=T.find(".character-background"),I=T.find(".character-stage"),x=T.attr("data-total-characters"),A={$container:T.find(".video-container"),loopTimes:{artanis:3.033,zeratul:3.033,rohana:3.5,karax:3.033,vorazun:3.033,kerrigan:4.85,raynor:3.033},clear:function(){A.$object&&(A.$object.unbind(),A.$container.empty())},center:function(){A.$container&&(A.$container.height(T.height()),A.$container.width(.8*A.$container.height()+"px"),A.$container.css("left",(T.width()-A.$container.width())/2+"px"))},load:function(){if(A.isEnabled()&&A.$object){var e=Core.cdnUrl+"/sc2/legacy-of-the-void/videos/characters/"+g()+"-large.";A.$object.empty(),A.$object.unbind(),A.bindEvents(),A.$object.attr("poster",Core.staticUrl+"/images/legacy-of-the-void/characters/character-background.jpg");var t=d("<source>").attr("src",e+"webm"),a=d("<source>").attr("src",e+"mp4");A.$object.append(t),A.$object.append(a),A.$object.load()}},play:function(){A.domElement.play()},pause:function(){A.domElement.pause()},isEnabled:function(){return t.canPlayVideo()&&(a.isQueryActive(i.mediaQueries["MQ-gt-980"])||t.isIE9()&&d(o).width()>980)?!0:!1},updateCurrentTime:function(){A.domElement.currentTime=A.loopTimes[g()]},onPlaying:function(){A.$object.one("canplaythrough",A.onCanPlayThrough)},onCanPlayThrough:function(){A.$object.one("progress",A.onProgress)},onProgress:function(){A.updateCurrentTime()},onTimeUpdate:function(){A.domElement.currentTime>=A.domElement.duration-.08&&A.updateCurrentTime()},onEnded:function(){A.domElement.currentTime=A.loopTimes[g()],A.domElement.play()},bindEvents:function(){A.$object.on("ended",A.onEnded)},init:function(){A.clear(),A.isEnabled()?(Q.removeClass("show-image"),T.find(".character-video").unbind(),A.$object=d("<video>"),A.$object.addClass("character-video"),A.$object.attr("autoplay","autoplay"),A.$container.append(A.$object),A.domElement=A.$object.get(0)):Q.addClass("show-image")}},k={$container:d(".legacy-of-the-void .characters .hex-container"),coords:[[258.7,8.4,177.6,8,136.8,78.1,177,148.7,258,149.1,299,79],[129.6,81.5,48.4,81.1,7.6,151.3,47.8,221.8,128.9,222.2,169.8,152.1],[259.7,154.5,178.6,154.1,137.7,224.4,178,294.9,259,295.3,300,225.2],[129.6,230.7,48.4,230.3,7.6,300.4,47.8,371,128.9,371.5,169.8,301.2],[259.7,303.8,178.6,303.4,137.7,373.5,178,444.2,259,444.5,300,374.3],[129.6,377.8,48.4,377.5,7.6,447.6,47.8,518.2,128.9,518.6,169.8,448.4],[258.7,451.9,177.6,451.5,136.8,521.7,177,592.3,258,592.7,299,522.6]],activateElement:function(e){k.$container.data("activeElement");k.$container.data("activeElement",e),b(e,G.ACTIVE)},getActiveElement:function(){return k.$container.data("activeElement")},deactivateElement:function(e){b(e,G.INACTIVE)},mouseOverElement:function(e){b(e,G.HOVER)},bindEvents:function(){k.paper.on("characterGrid.activate.element",k.activateElement),k.paper.on("characterGrid.deactivate.element",k.deactivateElement),k.paper.on("characterGrid.mouseOver.element",k.mouseOverElement),k.paper.on("characterGrid.mouseOut.element",k.deactivateElement),k.elements.mouseover(function(){var e=d(this.node).data("element");return e===k.getActiveElement()?!1:void k.paper.trigger("characterGrid.mouseOver.element",this,e)}).mouseout(function(){var e=d(this.node).data("element");return e===k.getActiveElement()?!1:void k.paper.trigger("characterGrid.mouseOut.element",this,e)}).click(function(){var e=d(this.node).data("element");return e===k.getActiveElement()?!1:(h(e,this),void A.load())})},clearGrid:function(){k&&k.paper&&k.paper.unbind&&k.paper.unbind(),k.$container.empty()},setUpPaper:function(){k.paper=r.draw("paper",{width:306,height:600,container:".legacy-of-the-void .characters .hex-container",attrClass:"show--lg"})},setUpBackground:function(){k.bgImage=k.paper.draw("image",{width:918,height:600,src:Core.cdnUrl+"/sc2/legacy-of-the-void/images/characters/portraits.png",attrClass:"hidden"}),k.bgImage.attr({"clip-rect":"0, 0, 306, 600"})},setUpElements:function(){for(var e=[],t=0;t<k.coords.length;t++)e.push(k.paper.draw("path",{name:t,coords:k.coords[t].join(","),fill:"url("+Core.cdnUrl+"/sc2/legacy-of-the-void/images/characters/portraits.png)",attrClass:"pointer"}));k.elements=k.paper.group(e),k.elements.attr({stroke:"transparent","stroke-width":0})},isEnabled:function(){return a.isQueryActive(i.mediaQueries["MQ-gt-980"])||t.isIE9()&&d(o).width()>980?!0:!1},init:function(){if(k.clearGrid(),k.isEnabled()){k.setUpPaper(),k.setUpBackground(),k.setUpElements(),k.bindEvents();var e=v();h(e,d("[data-element="+e+"]"))}}},U=d(o).width(),G={INACTIVE:"translate(0,0)",HOVER:"translate(612,0)",ACTIVE:"translate(306,0)"};d(o).ready(j)}(bnet,bnet.utility||{},bnet.mediaQueryManager||{},bnet.ScrollManager||{},bnet.svgImageMapper||{},bnet.sc2.lotv||{},window,document,jQuery);
var bnet=bnet||{};!function(e,i,o,a,t,n,d,s,c){"use strict";var r={videoElement:{},videoExists:!1,bindEvents:function(){s(n).on("ScrollManagerEnterSectionEvent",r.sectionChange)},init:function(){i.canPlayVideo()&&r.bindEvents()},buildVideo:function(){var e=s(".legacy-of-the-void .gameplay .video-container").addClass("loading"),i=s("<source></source>").attr("src",Core.cdnUrl+"/sc2/legacy-of-the-void/videos/spear-video.webm").attr("type","video/webm"),o=s("<source></source>").attr("src",Core.cdnUrl+"/sc2/legacy-of-the-void/videos/spear-video.mp4").attr("type","video/mp4"),a=s("<video></video>").addClass("gameplay-video").attr("loop","loop").attr("poster",Core.staticUrl+"/images/legacy-of-the-void/gameplay/spear-bg.jpg").append(i).append(o).one("playing",function(){e.removeClass("loading")});e.prepend(a),r.videoElement=a[0],r.videoExists=!0},sectionChange:function(e,o){if(r.videoExists===!1)switch(o.activeSection.id){case"spear-of-adun":case"characters":case"multiplayer":r.buildVideo()}"spear-of-adun"===o.activeSection.id?i.canPlayVideo()&&r.play():r.pause()},pause:function(){r.videoExists&&r.videoElement.pause()},play:function(){r.videoExists&&r.videoElement.play()}};s(n).on("ScrollManagerReadyEvent",r.init)}(bnet,bnet.utility||{},bnet.mediaQueryManager||{},bnet.ScrollManager||{},bnet.sc2.lotv||{},window,document,jQuery);
"use strict";!function(e,t,n,a,i,s,o,r){var l=(n(".unit-display-section"),n("body")),d=n(".unit-video-panel .background-video"),c=n(".unit-video-panel"),u=t.getElementById("units-section"),m=n(u),p=m.find(".unit-panel"),v=n(".unit-select-item"),f=0,h=n("#modal"),g=n(".unit-mp4-src"),y=n(".unit-webm-src"),b=0,C=/AppleWebKit\/([\d.]+)/.exec(navigator.userAgent);C&&parseFloat(C[1])<=534.3&&n("#units-section").addClass("old-webkit");var w=n.map(p,function(e){return n(e).attr("data-unit")}),k=function(){return i.canPlayVideo()&&s.isQueryActive(o.mediaQueries["MQ-gt-980"])};n(".unit-video-link").on("click",function(e){if(k()){e.preventDefault();var t=n(e.currentTarget),a=t.data("params").split(" ").join("&amp;");a=a?"&amp;"+a:"",n("<div class='sixteen-nine'><iframe src='//www.youtube.com/embed/"+t.data("src")+"?autoplay=1&amp;wmode=opaque"+a+"' frameborder='0' allowfullscreen='' class='sixteen-nine__media'></iframe></div>").appendTo(h.find(".modal__media")),h.find(".modal-content").addClass("video"),h.modal("show")}});var T=function(e){n(".units video").each(function(){n(this)[0].play&&n(this)[0].pause&&(e?n(this)[0].play():n(this)[0].pause())})},x=function(){h.find(".modal-content").removeClass("video"),h.find(".modal__media").empty(),T(!0)};h.on("hide",function(){x()}),h.on("show",function(){T(!1)}),n("body").on("click",".modal-backdrop, .modal .close, .modal",function(e){h.modal("hide")}),n(".unit-select-link").on("mouseenter",function(e){n(e.currentTarget).prev().addClass("over")}).on("mouseleave",function(e){n(e.currentTarget).prev().removeClass("over")});var _=function(t){var a=d;a.data("unit")!==t&&(a[0].pause&&a[0].pause(),a.removeClass("loaded").data("unit",t).one("loadeddata",function(e){n(this).addClass("loaded")}),g.attr("src",e.Core.cdnUrl+"/sc2/legacy-of-the-void/videos/units/"+t+".mp4"),y.attr("src",e.Core.cdnUrl+"/sc2/legacy-of-the-void/videos/units/"+t+".webm"),a.load())},A=function(t){var a=p.find(".unit-thumb-video");if(a.attr("data-unit")!==t){a.length>0&&a.remove();var i=n('<video class="unit-thumb-video sixteen-nine__media" autoplay="autoplay" loop="loop" data-unit="'+t+'"><source src="'+e.Core.cdnUrl+"/sc2/legacy-of-the-void/videos/units/"+t+'-thumb.webm" type="video/webm" /><source src="'+e.Core.cdnUrl+"/sc2/legacy-of-the-void/videos/units/"+t+'-thumb.mp4" type="video/mp4" /></video>').appendTo(m.find(".unit-panel.is-selected").find(".unit-video-link"));i=null}},Q=function(e,t){var n=d;"units"===t.activeSection.id&&n[0]&&n[0].play?n[0].play():n[0]&&n[0].pause&&n[0].pause()};n(e).on("ScrollManagerEnterSectionEvent",Q);var j=function(e){p.removeClass("is-selected"),v.removeClass("is-selected"),p.eq(e).addClass("is-selected"),v.eq(e).addClass("is-selected"),m.css({"-webkit-transform":"translate3d("+-100*e+"%, 0, 1px)",transform:"translate3d("+-100*e+"%, 0, 1px)",transition:""}),k()?(_(w[e]),A(w[e])):(c.find("img").remove(),n('<img class="unit-projection-fallback" src="/sc2/static/images/legacy-of-the-void/units/'+w[e]+'.jpg" />').appendTo(c)),l.hasClass("unit-selected")&&m.addClass("scroll-ready")};n(".unit-select-link, .unit-hex-link").on("click",function(e){e.preventDefault(),b=l.scrollTop();var t=n.inArray(n(e.currentTarget).attr("data-unit"),w);return f=t,j(f),l.addClass("unit-selected"),!1}),n(".unit-mobile-arrow").on("click",function(e){n(e.currentTarget).hasClass("arrow-right")&&f+1<w.length?f+=1:n(e.currentTarget).hasClass("arrow-left")&&f-1>=0&&(f-=1),j(f)}),n("#close-unit-panel, .unit-close-btn, .close-unit-icon").on("click",function(e){l.removeClass("unit-selected"),v.removeClass("is-selected"),m.removeClass("scroll-ready"),g.attr("src",""),c.find("img").remove(),y.attr("src",""),l.scrollTop(b),d[0].pause&&d.removeClass("loaded")[0].pause()});var P=function(e){return 100*(e/t.body.clientWidth)+-100*f};if("visibilityState"in t&&!e.navigator.userAgent.match(/iPad/i)&&!e.navigator.userAgent.match(/iPhone/i)){var S=new Hammer(u);S.add(new Hammer.Pan({threshold:20})),S.on("panleft panup pandown panright",function(e){if("panleft"===e.type||"panright"===e.type){var t=P(e.deltaX);m.css({"-webkit-transform":"translate3d("+t+"%, 0, 1px)",transform:"translate3d("+t+"%, 0, 1px)",transition:"none"}),m.addClass("sliding")}}),S.on("panend",function(e){e.deltaX<-100&&f+1<w.length?f+=1:e.deltaX>100&&f-1>=0&&(f-=1),l.hasClass("unit-selected")&&j(f),m.removeClass("sliding")})}}(window,document,jQuery,bnet,bnet.utility||{},bnet.mediaQueryManager||{},bnet.sc2.lotv||{});
var bnet=bnet||{};!function(e,n,i,a,t,o,d,r){"use strict";var l=i("#modal"),c={$header:{},videoElement:{},bindEvents:function(){var n=this;i(e).on("ScrollManagerEnterSectionEvent",c.sectionChange),i(".header-video-link, .pre-purchase-thumbnail-img").on("click",function(e){if(n.shouldPlayVideo()){e.preventDefault();var a=i(e.currentTarget);i("<div class='sixteen-nine'><iframe src='//www.youtube.com/embed/"+a.data("src")+"?autoplay=1&amp;wmode=opaque' frameborder='0' allowfullscreen='' class='sixteen-nine__media'></iframe></div>").appendTo(l.find(".modal__media")),l.find(".modal-content").addClass("video"),l.modal("show")}})},init:function(){c.bindEvents(),c.$header=i(".legacy-of-the-void .section.header"),c.videoElement=c.$header.find(".background-video")[0]},sectionChange:function(e,n){c.shouldPlayVideo()&&("header"===n.activeSection.id?c.play():c.pause())},shouldPlayVideo:function(){return t.canPlayVideo()&&o.isQueryActive(d.mediaQueries["MQ-gt-980"])},play:function(){c.videoElement.play()},pause:function(){c.videoElement.pause()}};i(e).on("ScrollManagerReadyEvent",c.init)}(window,document,jQuery,bnet,bnet.utility||{},bnet.mediaQueryManager||{},bnet.sc2.lotv||{});
!function(n,t,u,c){"use strict"}(window,document,jQuery);
!function(e,t,a,s,i){"use strict";function n(t){var a="/images/legacy-of-the-void/media/";return[e.Core.staticUrl,a,t,".jpg"].join("")}function o(){var a=e.innerWidth||t.documentElement.clientWidth||t.body.clientWidth,s={xs:768>a,sm:a>=768&&980>a,md:a>=980&&1200>a,lg:a>=1200};return{mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent),touch:"ontouchstart"in e||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,size:function(){for(var e=Object.keys(s),t=0;t<e.length;t++)if(s[e[t]])return e[t]}(),sizes:s,width:a}}function r(i,n,r){function d(e){for(var t=i.data("media.filters"),a=-1,s=0;s<t.length;s++)t[s].name===e.name&&(a=s);return 0>a?(t.push(e),0):1}function p(e,t){var s=0,i=Object.keys(t.values);return a.each(t.values,function(t,a){("*"===a||e[t]===a)&&s++}),s===i.length?!0:!1}function c(){var e=a.Deferred(),t=C.activeMedia;return t.$video?(t.$video.video().done(function(t){t.destroyPlayer(),e.resolve()}).fail(function(t){e.reject()}),t.$video.css({left:"-100%"})):e.resolve(),e.promise()}function m(){V||(V=1,a(t).on("keydown.media",function(e){if(/37|39|32|27/.test(e.which)&&e.preventDefault(),37==e.which)C.navigatePrev();else if(39==e.which)C.navigateNext();else if(32==e.which){var t=C.activeMedia;t.$video&&t.$video.video().done(function(e){1!==e.player.getPlayerState()?e.player.playVideo():e.player.pauseVideo()})}else 27==e.which&&C.closeModal()}))}function u(){a(t).off("keydown.media"),V=0}function h(){var e=C.activeMedia;a.each(n,function(t,a){a===e?this.$elem.addClass("active"):this.$elem.removeClass("active")})}function f(e,t){var a=t?"prependTo":"appendTo";e.visible||(C.visible++,e.visible=1,e.$elem[a](C.$grid))}function v(e){e.visible&&(C.visible--,e.visible=0,e.$elem.detach())}function g(e,t){a.each(e,function(e,a){f(a,t)})}function y(e){a.each(e,function(e,t){v(t)})}function b(){for(var e=(C.paginateIndex+1)*C.paginate,t=C.paginateIndex*C.paginate,a=C.results.length,s=[],i=t;(a>e?e:a)>i;i++)C.results[i]&&s.push(C.results[i]);s.length&&C.visible+s.length<=C.results.length&&(C.paginateIndex++,"replace"===C.paginateType&&y(C.medias),g(s)),C.trigger("media.paginate.next",C)}function w(){for(var e=(C.paginateIndex-1)*C.paginate-C.paginate,t=C.paginateIndex*C.paginate-C.paginate,a=0,s=[],i=t;i>(a>e?a:e);i--)C.results[i-1]&&s.push(C.results[i-1]);s.length&&C.visible+s.length<=C.results.length&&(C.paginateIndex--,"replace"===C.paginateType&&y(C.medias),g(s,!0)),C.trigger("media.paginate.prev",C)}function k(e,t){C.paginate?(C.paginateIndex=0,y(C.medias),b()):(y(t),g(e))}function x(){var e={$filter:C.templates.filter,$grid:C.templates.grid,$overlay:C.templates.overlay,$modal:function(){var e=C.templates.modal();return e.html([C.templates.content(),C.$overlay]),l.mobile&&e.toggleClass("mobile",!0),e},$content:function(){return C.$modal.find(".content.media")},medias:i.data("media.medias"),filters:i.data("media.filters"),results:[],paginate:function(){var e=o();return e.mobile?e.sizes.xs?4:e.sizes.sm||e.sizes.md?6:12:12},paginateIndex:0,visible:0,paginateNext:function(){return b},paginatePrev:function(){return w},trigger:function(){return function(){i.trigger.apply(i,arguments)}},on:function(){return function(){i.on.apply(i,arguments)}},off:function(){return function(){i.off.apply(i,arguments)}}};r&&r.templates&&a.extend(C.templates,r.templates),r&&r.init&&a.extend(e,r.init),a.each(e,function(e,t){C[e]="function"==typeof t?t():t}),n&&a.each(n,function(e,t){C.addMedia(t),r&&r.filters||C.addFilter({name:t.type,values:{type:t.type}})}),r&&r.filters&&a.each(r.filters,function(e,t){C.addFilter(t)}),C.filterMedia(C.filters[0]),i.html([C.$filter,C.$grid,C.$modal]),C.trigger("media.ready",C)}var C=this;i.data("media.medias",[]),i.data("media.filters",[]);var V=0;this.templates={filter:function(){var e=o();return a(e.mobile&&(e.sizes.xs||e.sizes.sm)?"<select/>":"<ul/>",{addClass:"nav media-filter",on:e.mobile&&(e.sizes.xs||e.sizes.sm)?{change:function(e){C.filterMedia(a(this).children("option:selected").data("filter"))}}:{}})},filterItem:function(e){var t=o();return a(t.mobile&&(t.sizes.xs||t.sizes.sm)?"<option/>":"<li/>",{html:e.name,data:{filter:e},on:{click:function(t){t.preventDefault(),C.filterMedia(e)}}})},mediaItem:function(t){function i(){return t.type==s.types.video?{href:"https://www.youtube.com/watch?v="+t.id,"data-youtube-id":t.id,"data-analytics":"youtube-video","data-analytics-placement":t.analytics||""}:void 0}function n(){return a("<a/>",{addClass:"content",attr:i(),html:a("<span/>",{html:t.type}),css:{backgroundImage:t.thumb?"url("+t.thumb+")":""}})}var r=o();return a("<li/>",{addClass:["media-item",t.type].join(" "),html:n(),click:function(a){r.mobile&&t.type===s.types.video||(r.mobile&&t.type!=s.types.wallpaper&&t.type!=s.types.video?(a.preventDefault(),e.open(t.img,"_blank")):(a.preventDefault(),C.openModal(t)))}})},grid:function(){return a("<ul/>",{addClass:"grid media-items"})},modal:function(){return a("<div/>",{addClass:"media-modal",html:[C.$content,C.$overlay]})},content:function(){return a("<div/>",{addClass:"inner",html:[a("<div/>",{addClass:"content bg",html:a("<div/>",{addClass:"content media",html:[a("<button/>",{addClass:"media-btn left",click:function(e){e.preventDefault(),C.navigatePrev()}}),a("<button/>",{addClass:"media-btn right",click:function(e){e.preventDefault(),C.navigateNext()}})]})}),a("<button/>",{addClass:"media-btn close",text:"×",click:function(e){e.preventDefault(),C.closeModal()}})]})},overlay:function(){return a("<div/>",{addClass:"overlay",click:function(e){e.preventDefault(),C.closeModal()}})},downloads:function(e){function t(){var t=[];return a.each(e.downloads,function(e,i){t.push(a("<a/>",{attr:{href:i.url,download:["lotv",i.name].join("-"),target:"_blank"},html:[a("<span/>",{addClass:["icon",s[e]].join(" ")}),a("<span/>",{addClass:"name",html:i.name}),a("<span/>",{addClass:"dimensions",html:i.dimensions})]}))}),t}var s={0:"wide",1:"standard",2:"mobile",3:"tablet",4:"facebook",5:"twitter"};return a("<div/>",{addClass:"content downloads",html:t()})}},this.addTemplate=function(e){a.extend(C.templates,e)},this.addFilter=function(e){d(e)||(e.$elem=C.templates.filterItem(e),e.$elem.data({filter:e}).appendTo(C.$filter))},this.addMedia=function(e){if(!e.$elem){var t=i.data("media.medias");e.$elem=C.templates.mediaItem(e),e.downloads&&(e.$downloads=C.templates.downloads(e)),t.push(e),e.$elem.data({media:e})}},this.navigateTo=function(e){var t=C.activeMedia;c().always(function(){C.openModal(a(t.$elem.parent().children().get(e)).data("media"))})},this.navigatePrev=function(){var e=C.activeMedia.$elem.index();C.navigateTo(e-1),C.trigger("media.navigate.prev",C)},this.navigateNext=function(){var e=C.activeMedia.$elem.index(),t=C.activeMedia.$elem.siblings().length;C.navigateTo(e+1>t?0:e+1),C.trigger("media.navigate.next",C)};var $=0,L=0;this.openModal=function(t){if(C.activeMedia&&(i.toggleClass(C.activeMedia.typeClass,!1),C.activeMedia.$downloads&&C.activeMedia.$downloads.detach()),i.toggleClass("open",!0),i.toggleClass(t.typeClass,!0),L||(L=a(e).scrollTop(),a("body, html").toggleClass("fixed",!0),a("html").css({marginTop:-L+"px"})),C.activeMedia=t,m(),h(),$||C.trigger("media.modal.open",C),$=1,t.type===s.types.video){if(C.$content.css({backgroundImage:"none"}),t.$video)t.$video.video().done(function(e){e.player||e.createPlayer()});else{var n=a("<div/>",{attr:{"data-video":t.id}});n.on("player.ready",function(e,t){t.target.playVideo()}).video(),t.$video=n}t.$video.parent()[0]||t.$video.prependTo(C.$content),t.$video.css({left:""})}else C.$content.css({backgroundImage:t.img?"url("+t.img+")":""});t.$downloads&&t.$downloads.insertAfter(C.$content.parent())},this.closeModal=function(){c().always(function(){i.toggleClass("open",!1),C.$content.css({backgroundImage:"none"}),L&&(a("body, html").toggleClass("fixed",!1),a("html").css({marginTop:""}),a(e).scrollTop(L),L=0)}),C.trigger("media.modal.close",C),u(),$=0},this.filterMedia=function(e){var t=[],s=[];C.activeFilter&&C.activeFilter.$elem.toggleClass("active",!1),e.$elem.toggleClass("active",!0),C.activeFilter=e,a.each(C.medias,function(a,i){p(i,e)?t.push(i):s.push(i)}),C.results=t,C.trigger("media.filter",C),k(t,s)},x()}var l=o(),d=[{type:s.types.video,typeClass:"video",thumb:n("videos/thumb-trailer"),analytics:"Void Trailer",img:"",id:s.trailer.youtubeId},{type:s.types.video,typeClass:"video",thumb:n("videos/thumb-zerg"),analytics:"Zerg Spotlight",img:"",id:"LkVMd1-ZyM8"},{type:s.types.video,typeClass:"video",thumb:n("videos/thumb-protoss"),analytics:"Protoss Spotlight",img:"",id:"3tKHSrkilGY"},{type:s.types.video,typeClass:"video",thumb:n("videos/thumb-terran"),analytics:"Terran Spotlight",img:"",id:"NaKT0YQSJ9I"},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-01-thumb"),img:n("screenshots/LotV-Screenshot-01")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-02-thumb"),img:n("screenshots/LotV-Screenshot-02")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-03-thumb"),img:n("screenshots/LotV-Screenshot-03")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-04-thumb"),img:n("screenshots/LotV-Screenshot-04")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-05-thumb"),img:n("screenshots/LotV-Screenshot-05")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-06-thumb"),img:n("screenshots/LotV-Screenshot-06")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-07-thumb"),img:n("screenshots/LotV-Screenshot-07")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-08-thumb"),img:n("screenshots/LotV-Screenshot-08")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-09-thumb"),img:n("screenshots/LotV-Screenshot-09")},{type:s.types.screenshot,typeClass:"screenshot",thumb:n("screenshots/LotV-Screenshot-10-thumb"),img:n("screenshots/LotV-Screenshot-10")},{type:s.types.artwork,typeClass:"artwork",thumb:n("artworks/LotV-Artwork-01-thumb"),img:n("artworks/LotV-Artwork-01")},{type:s.types.artwork,typeClass:"artwork",thumb:n("artworks/LotV-Artwork-02-thumb"),img:n("artworks/LotV-Artwork-02")},{type:s.types.artwork,typeClass:"artwork",thumb:n("artworks/LotV-Artwork-03-thumb"),img:n("artworks/LotV-Artwork-03")},{type:s.types.artwork,typeClass:"artwork",thumb:n("artworks/LotV-Artwork-04-thumb"),img:n("artworks/LotV-Artwork-04")},{type:s.types.artwork,typeClass:"artwork",thumb:n("artworks/LotV-Artwork-05-thumb"),img:n("artworks/LotV-Artwork-05")},{type:s.types.artwork,typeClass:"artwork",thumb:n("artworks/LotV-Artwork-06-thumb"),img:n("artworks/LotV-Artwork-06")},{type:s.types.artwork,typeClass:"artwork",thumb:n("artworks/LotV-Artwork-07-thumb"),img:n("artworks/LotV-Artwork-07")},{type:s.types.wallpaper,typeClass:"wallpaper",thumb:n("wallpapers/LotV-Wallpaper-02-thumb"),img:n("wallpapers/LotV-Wallpaper-02_2560x1440wide"),downloads:[{name:s.sizes.wide,dimensions:"2560 x 1440",url:n("wallpapers/LotV-Wallpaper-02_2560x1440wide")},{name:s.sizes.standard,dimensions:"2048 x 1536",url:n("wallpapers/LotV-Wallpaper-02_2048x1536standard")},{name:s.sizes.mobile,dimensions:"1080 x 1920",url:n("wallpapers/LotV-Wallpaper-02_1080x1920mobile")},{name:s.sizes.tablet,dimensions:"2048 x 2048",url:n("wallpapers/LotV-Wallpaper-02_2048x2048tablet")},{name:s.sizes.facebook,dimensions:"851 x 315",url:n("wallpapers/LotV-Wallpaper-02_851x315facebook")},{name:s.sizes.twitter,dimensions:"1500 x 500",url:n("wallpapers/LotV-Wallpaper-02_1500x500twitter")}]},{type:s.types.wallpaper,typeClass:"wallpaper",thumb:n("wallpapers/LotV-Wallpaper-01-thumb"),img:n("wallpapers/LotV-Wallpaper-01_2560x1440wide"),downloads:[{name:s.sizes.wide,dimensions:"2560 x 1440",url:n("wallpapers/LotV-Wallpaper-01_2560x1440wide")},{name:s.sizes.standard,dimensions:"2048 x 1536",url:n("wallpapers/LotV-Wallpaper-01_2048x1536standard")},{name:s.sizes.mobile,dimensions:"1080 x 1920",url:n("wallpapers/LotV-Wallpaper-01_1080x1920mobile")},{name:s.sizes.tablet,dimensions:"2048 x 2048",url:n("wallpapers/LotV-Wallpaper-01_2048x2048tablet")},{name:s.sizes.facebook,dimensions:"851 x 315",url:n("wallpapers/LotV-Wallpaper-01_851x315facebook")},{name:s.sizes.twitter,dimensions:"1500 x 500",url:n("wallpapers/LotV-Wallpaper-01_1500x500twitter")}]}],p=[{name:s.filters.all,values:{type:"*"}},{name:s.filters.videos,values:{type:s.types.video}},{name:s.filters.screenshots,values:{type:s.types.screenshot}},{name:s.filters.artwork,values:{type:s.types.artwork}},{name:s.filters.wallpapers,values:{type:s.types.wallpaper}}];a.fn.extend({media:function(e,t){var a=this.data("media");return a||this.data({media:a=new r(this,e,t)}),a}});var c=a("[data-media]"),m=a(".media .actions .space-btn");c.on({"media.paginate.next":function(e,t){t.visible>=t.results.length?m.hide():m.show()},"media.filter":function(e,t){a(".filter-wrap .space-btn .btn .text").text(t.activeFilter.name)}}),c.one("media.ready",function(e,t){if(m.click(function(e){e.preventDefault(),t.paginateNext()}),l.mobile&&(l.sizes.xs||l.sizes.sm)){var s=a("<div/>",{addClass:"filter-wrap"});t.$filter.wrap(s),t.$filter.before(['<div class="space-btn">','<button class="btn">','<span class="text">',t.filters[0].name,"</span>",'<span class="arrow"></span>',"</button>","</div>"].join("")),s.on({mouseenter:function(e){a(this).toggleClass("hover",!0)},mouseleave:function(e){a(this).toggleClass("hover",!1)}})}}),c.media(d,{filters:l.mobile&&(l.sizes.xs||l.sizes.sm)?p.splice(1,p.length-1):p})}(window,document,jQuery,mediaStrings);
!function(n,t,u,c){"use strict"}(window,document,jQuery);
!function(e,n,t,i,o){"use strict";var a={$nextSection:"",$previousSection:"",bindEvents:function(){t(".pager").on("click",a.onPagerClick),t(e).on("ScrollManagerEnterSectionEvent",a.update),t(e).on("scroll",i.debounce(function(e){a.onScroll()},100))},onPagerClick:function(n){var i=t(this),o=i.data("direction"),c="up"===o?a.$previousSection:a.$nextSection;t("html, body").stop().animate({scrollTop:c.offset().top},{duration:500,complete:function(n){history&&history.replaceState?history.replaceState(null,null,"#"+c.attr("id")):e.location.hash=c.attr("id")}})},onScroll:function(e){var n=t("body");n.hasClass("menu-lotv")&&l.hideMenu()},update:function(n,i){"header"===i.activeSection.id||t(e).scrollTop<0?t(".pager-top").addClass("hide"):t(".pager-top").removeClass("hide"),"news"===i.activeSection.id?t(".pager-bottom").addClass("hide"):t(".pager-bottom").removeClass("hide");var o=(t("#"+i.activeSection.id),t("#"+i.nextSection.id)),c=t("#"+i.previousSection.id);a.$nextSection=o,a.$previousSection=c},init:function(){a.bindEvents()}},c={bindEvents:function(){t(e).on("ScrollManagerEnterSectionEvent",c.update),t(".primary-navigation").on("click",".menu-link",c.menuItemClick)},update:function(e,n){var i=n.activeSection.id;t(".menu .menu-link").removeClass("active"),t(".menu .menu-"+i+" .menu-link").addClass("active")},menuItemClick:function(n){n.preventDefault();var i=t("body"),o=t(this);t("html, body").animate({scrollTop:t(o.attr("href")).offset().top},{duration:500,complete:function(n){history&&history.replaceState?history.replaceState(null,null,o.attr("href")):e.location.hash=o.attr("href").replace("#","")}}),i.hasClass("menu-lotv")&&l.hideMenu()},init:function(){c.bindEvents()}},l={bindEvents:function(){t(".mobile-nav").on("click",".menu-toggle",l.menuToggle),t(".shield").on("click touchstart",l.hideMenu)},menuToggle:function(e){var n=t(this),i="menu-"+n.data("menu"),o=t("body");o.hasClass(i)?o.removeClass(i):o.removeClass("menu-lotv").addClass(i)},hideMenu:function(e){e&&e.preventDefault();var n=t("body");n.removeClass("menu-lotv")},init:function(){l.bindEvents()}};t(e).on("ScrollManagerReadyEvent",function(){c.init(),a.init(),l.init()})}(window,document,jQuery,bnet.utility);